{"version":3,"sources":["components/Main/Main.module.css","components/Main/Post/Post.module.css","components/Header/Header.module.css","components/Main/PostList/PostList.module.css","components/Header/Header.js","components/Main/Post/Post.js","components/Main/PostList/PostList.js","utils/Requests.js","components/Main/Main.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Header","className","classes","header_wrapper","header_text","Post","post_wrapper","post","this","props","message","delete_post_btn","onClick","handle","id","Component","PostList","state","posts","url","document","getElementById","addEventListener","handleNewPost","fetch","then","data","json","map","el","handleDelPost","bind","setState","newPost","value","length","unshift","slice","method","headers","body","JSON","stringify","resp","r","console","log","ok","newState","alert","index","filter","Number","key","posts_wrapper","style","marginTop","marginBottom","color","textShadow","Main","signs","textCounterEvent","textTabulationEvent","textArea","o","events","callback","split","addEventListenerMulti","e","preventDefault","start","selectionStart","end","selectionEnd","substring","main_wrapper","content_wrapper","post_form","post_text","post_control","post_submit","signs_counter","App","app_wrapper","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.81bae91e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_wrapper\":\"Main_main_wrapper__yTCUr\",\"content_wrapper\":\"Main_content_wrapper__16wTL\",\"post_form\":\"Main_post_form__DfCJQ\",\"post_text\":\"Main_post_text__2ZNav\",\"post_control\":\"Main_post_control__slNHf\",\"signs_counter\":\"Main_signs_counter__16rr0\",\"post_submit\":\"Main_post_submit__1Omgn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post_wrapper\":\"Post_post_wrapper__Rx9KX\",\"post\":\"Post_post__1lyFv\",\"delete_post_btn\":\"Post_delete_post_btn__1nUbG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header_wrapper\":\"Header_header_wrapper__3bvKq\",\"header_text\":\"Header_header_text__1StCc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts_wrapper\":\"PostList_posts_wrapper__3J_2w\"};","import classes from \"./Header.module.css\";\r\n\r\n\r\nexport default function Header() {\r\n    return (\r\n        <header className={classes.header_wrapper}>\r\n            <h1 className={classes.header_text}>Simple post app</h1>\r\n        </header>\r\n    );\r\n}","import classes from \"./Post.module.css\";\r\nimport {Component} from \"react\";\r\n\r\n\r\nexport default class Post extends Component {\r\n    render() {\r\n        return (\r\n            <div className={classes.post_wrapper} key={`post${this.props.id}`}>\r\n                <div className={classes.post}>\r\n                    {this.props.message ?? 'POST!'}\r\n                </div>\r\n                <button className={classes.delete_post_btn} onClick={this.props.handle}>X</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import classes from \"./PostList.module.css\";\r\nimport {Component} from \"react\";\r\nimport Post from \"../Post/Post\";\r\nimport {deleteRequest, getRequest, postRequest} from '../../../utils/Requests'\r\n\r\nexport default class PostList extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {posts: []}\r\n    }\r\n\r\n    componentDidMount() {\r\n        const btn = document.getElementById('postSubmit')\r\n        btn.addEventListener('click', () => this.handleNewPost())\r\n\r\n        getRequest('http://localhost:5000/posts').then(\r\n            data => {\r\n                const posts = data.posts.map((el) =>\r\n                    <Post message={el.message} id={el.id} key={el.id}\r\n                          handle={this.handleDelPost.bind(this, el.id)}/>\r\n                )\r\n                this.setState({posts})\r\n            }\r\n        )\r\n    }\r\n\r\n    handleNewPost() {\r\n        const newPost = document.getElementById('postArea')\r\n        if (newPost.value.length === 0) {\r\n            alert('Write some text before sending!')\r\n            return\r\n        }\r\n\r\n        const posts = this.state.posts\r\n        posts.unshift(<Post message={newPost.value.slice(0, 255)} id={posts.length} key={posts.length}\r\n                            handle={this.handleDelPost.bind(this, posts.length)}/>)\r\n\r\n        postRequest('http://localhost:5000/posts',\r\n            {\r\n                post: newPost.value.slice(0, 255),\r\n                id: posts.length - 1\r\n            }).then(r => console.log(`postRequest status -> ok: ${r.ok}`))\r\n        console.log(`post data on server id: ${posts.length}`)\r\n        console.log(posts)\r\n\r\n        const newState = {posts}\r\n        this.setState(newState)\r\n        newPost.value = null\r\n    }\r\n\r\n    handleDelPost(index) {\r\n        deleteRequest('http://localhost:5000/posts',\r\n            {\r\n                id: index\r\n            }).then(r => console.log(`deleteRequest status -> ok: ${r.ok}`))\r\n\r\n        const posts = this.state.posts.filter(el => Number(el.key) !== index)\r\n        this.setState({posts})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={classes.posts_wrapper}>\r\n                {this.state.posts}\r\n            </div>\r\n        );\r\n    }\r\n}","export function getRequest(url) {\r\n    return fetch(url).then(data => data.json())\r\n}\r\n\r\nexport function postRequest(url, data) {\r\n    return fetch(url, {\r\n        method: 'post',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n    }).then(resp => resp.json())\r\n}\r\n\r\nexport function deleteRequest(url, data) {\r\n    return fetch(url, {\r\n        method: 'delete',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n    }).then(resp => resp.json())\r\n}","import classes from \"./Main.module.css\";\r\nimport PostList from \"./PostList/PostList\";\r\nimport {Component} from \"react\";\r\n\r\nconst style = {\r\n    marginTop: '80px',\r\n    marginBottom: '40px',\r\n    color: 'whitesmoke',\r\n    textShadow: '#bf0a0a 1px 0 10px',\r\n}\r\n\r\nexport default class Main extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {signs: 0}\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.textCounterEvent()\r\n        this.textTabulationEvent()\r\n    }\r\n\r\n    textCounterEvent() {\r\n        const textArea = document.getElementById('postArea')\r\n        addEventListenerMulti(textArea, 'keyup keydown', () => {\r\n            if (textArea.value.length > 255) {\r\n                textArea.value = textArea.value.slice(0, 255)\r\n            }\r\n            this.setState({signs: textArea.value.length})\r\n        })\r\n    }\r\n\r\n    textTabulationEvent() {\r\n        document.getElementById('postArea').addEventListener('keydown', function(e) {\r\n            if (e.key === 'Tab') {\r\n                e.preventDefault();\r\n                const start = this.selectionStart;\r\n                const end = this.selectionEnd;\r\n\r\n                // set textarea value to: text before caret + tab + text after caret\r\n                this.value = this.value.substring(0, start) +\r\n                    '    ' + this.value.substring(end);\r\n\r\n                // put caret at right position again\r\n                this.selectionStart =\r\n                    this.selectionEnd = start + 4;\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <main className={classes.main_wrapper}>\r\n\r\n                {/*content wrapper begin*/}\r\n                <div className={classes.content_wrapper}>\r\n                    <h1 style={style}>Add new post!</h1>\r\n                    {/*post form begin*/}\r\n                    <div className={classes.post_form}>\r\n                        <textarea className={classes.post_text} id={'postArea'}/>\r\n                        <div className={classes.post_control}>\r\n                            <button className={classes.post_submit} id={'postSubmit'}\r\n                                    onClick={() => this.setState({signs: 0})}>\r\n                                Send\r\n                            </button>\r\n                            <div className={classes.signs_counter}>\r\n                                {this.state.signs} \\ 255\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {/*post form end*/}\r\n\r\n                    {/*posts wrapper begin*/}\r\n                    <PostList posts={this.state.posts}/>\r\n                    {/*posts wrapper end*/}\r\n\r\n                </div>\r\n                {/*content wrapper end*/}\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nfunction addEventListenerMulti(o, events, callback) {\r\n    for (const el of events.split(' ')) {\r\n        o.addEventListener(el, callback)\r\n    }\r\n}","import classes from \"./App.module.css\";\nimport Header from \"./components/Header/Header\";\nimport Main from \"./components/Main/Main\";\n\n\nfunction App() {\n    return (\n        <div className={classes.app_wrapper}>\n            <Header/>\n            <Main/>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}