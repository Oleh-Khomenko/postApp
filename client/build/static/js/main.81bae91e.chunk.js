(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,function(t,e,n){t.exports={main_wrapper:"Main_main_wrapper__yTCUr",content_wrapper:"Main_content_wrapper__16wTL",post_form:"Main_post_form__DfCJQ",post_text:"Main_post_text__2ZNav",post_control:"Main_post_control__slNHf",signs_counter:"Main_signs_counter__16rr0",post_submit:"Main_post_submit__1Omgn"}},,,,,function(t,e,n){t.exports={post_wrapper:"Post_post_wrapper__Rx9KX",post:"Post_post__1lyFv",delete_post_btn:"Post_delete_post_btn__1nUbG"}},,function(t,e,n){t.exports={header_wrapper:"Header_header_wrapper__3bvKq",header_text:"Header_header_text__1StCc"}},,function(t,e,n){},function(t,e,n){t.exports={posts_wrapper:"PostList_posts_wrapper__3J_2w"}},,,,,,function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var s=n(1),a=n.n(s),o=n(10),r=n.n(o),i=(n(18),n(11)),c=n.n(i),l=n(9),p=n.n(l),u=n(0);function d(){return Object(u.jsx)("header",{className:p.a.header_wrapper,children:Object(u.jsx)("h1",{className:p.a.header_text,children:"Simple post app"})})}var h=n(13),_=n(3),v=n(4),b=n(6),j=n(5),f=n(2),m=n.n(f),x=n(12),g=n.n(x),O=n(7),y=n.n(O),w=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){return Object(_.a)(this,n),e.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var t;return Object(u.jsxs)("div",{className:y.a.post_wrapper,children:[Object(u.jsx)("div",{className:y.a.post,children:null!==(t=this.props.message)&&void 0!==t?t:"POST!"}),Object(u.jsx)("button",{className:y.a.delete_post_btn,onClick:this.props.handle,children:"X"})]},"post".concat(this.props.id))}}]),n}(s.Component);var k=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var s;return Object(_.a)(this,n),(s=e.call(this,t)).state={posts:[]},s}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t,e=this;document.getElementById("postSubmit").addEventListener("click",(function(){return e.handleNewPost()})),(t="http://localhost:5000/posts",fetch(t).then((function(t){return t.json()}))).then((function(t){var n=t.posts.map((function(t){return Object(u.jsx)(w,{message:t.message,id:t.id,handle:e.handleDelPost.bind(e,t.id)},t.id)}));e.setState({posts:n})}))}},{key:"handleNewPost",value:function(){var t=document.getElementById("postArea");if(0!==t.value.length){var e,n,s=this.state.posts;s.unshift(Object(u.jsx)(w,{message:t.value.slice(0,255),id:s.length,handle:this.handleDelPost.bind(this,s.length)},s.length)),(e="http://localhost:5000/posts",n={post:t.value.slice(0,255),id:s.length-1},fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()}))).then((function(t){return console.log("postRequest status -> ok: ".concat(t.ok))})),console.log("post data on server id: ".concat(s.length)),console.log(s);var a={posts:s};this.setState(a),t.value=null}else alert("Write some text before sending!")}},{key:"handleDelPost",value:function(t){var e,n;(e="http://localhost:5000/posts",n={id:t},fetch(e,{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()}))).then((function(t){return console.log("deleteRequest status -> ok: ".concat(t.ok))}));var s=this.state.posts.filter((function(e){return Number(e.key)!==t}));this.setState({posts:s})}},{key:"render",value:function(){return Object(u.jsx)("div",{className:g.a.posts_wrapper,children:this.state.posts})}}]),n}(s.Component),N={marginTop:"80px",marginBottom:"40px",color:"whitesmoke",textShadow:"#bf0a0a 1px 0 10px"},S=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var s;return Object(_.a)(this,n),(s=e.call(this,t)).state={signs:0},s}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.textCounterEvent(),this.textTabulationEvent()}},{key:"textCounterEvent",value:function(){var t=this,e=document.getElementById("postArea");!function(t,e,n){var s,a=Object(h.a)(e.split(" "));try{for(a.s();!(s=a.n()).done;){var o=s.value;t.addEventListener(o,n)}}catch(r){a.e(r)}finally{a.f()}}(e,"keyup keydown",(function(){e.value.length>255&&(e.value=e.value.slice(0,255)),t.setState({signs:e.value.length})}))}},{key:"textTabulationEvent",value:function(){document.getElementById("postArea").addEventListener("keydown",(function(t){if("Tab"===t.key){t.preventDefault();var e=this.selectionStart,n=this.selectionEnd;this.value=this.value.substring(0,e)+"    "+this.value.substring(n),this.selectionStart=this.selectionEnd=e+4}}))}},{key:"render",value:function(){var t=this;return Object(u.jsx)("main",{className:m.a.main_wrapper,children:Object(u.jsxs)("div",{className:m.a.content_wrapper,children:[Object(u.jsx)("h1",{style:N,children:"Add new post!"}),Object(u.jsxs)("div",{className:m.a.post_form,children:[Object(u.jsx)("textarea",{className:m.a.post_text,id:"postArea"}),Object(u.jsxs)("div",{className:m.a.post_control,children:[Object(u.jsx)("button",{className:m.a.post_submit,id:"postSubmit",onClick:function(){return t.setState({signs:0})},children:"Send"}),Object(u.jsxs)("div",{className:m.a.signs_counter,children:[this.state.signs," \\ 255"]})]})]}),Object(u.jsx)(k,{posts:this.state.posts})]})})}}]),n}(s.Component);var C=function(){return Object(u.jsxs)("div",{className:c.a.app_wrapper,children:[Object(u.jsx)(d,{}),Object(u.jsx)(S,{})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),s(t),a(t),o(t),r(t)}))};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root")),E()}],[[20,1,2]]]);
//# sourceMappingURL=main.81bae91e.chunk.js.map